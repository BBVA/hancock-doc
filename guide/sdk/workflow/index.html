<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Workflow | Hancock</title>
    <meta name="description" content="">
    
    
    <link rel="preload" href="/hancock-doc/assets/css/0.styles.f72bef6a.css" as="style"><link rel="preload" href="/hancock-doc/assets/js/app.28931f4a.js" as="script"><link rel="preload" href="/hancock-doc/assets/js/4.b7600f4f.js" as="script"><link rel="preload" href="/hancock-doc/assets/js/2.80b219c5.js" as="script"><link rel="preload" href="/hancock-doc/assets/js/8.63216889.js" as="script"><link rel="prefetch" href="/hancock-doc/assets/js/10.269ab162.js"><link rel="prefetch" href="/hancock-doc/assets/js/11.b8bf3ea7.js"><link rel="prefetch" href="/hancock-doc/assets/js/12.c34c027f.js"><link rel="prefetch" href="/hancock-doc/assets/js/13.22f4cec8.js"><link rel="prefetch" href="/hancock-doc/assets/js/14.e00c2b92.js"><link rel="prefetch" href="/hancock-doc/assets/js/15.ea9815ee.js"><link rel="prefetch" href="/hancock-doc/assets/js/16.1b000b63.js"><link rel="prefetch" href="/hancock-doc/assets/js/17.5afbafaa.js"><link rel="prefetch" href="/hancock-doc/assets/js/18.67a4a1bb.js"><link rel="prefetch" href="/hancock-doc/assets/js/19.ddd3b5d4.js"><link rel="prefetch" href="/hancock-doc/assets/js/20.38b4f3bc.js"><link rel="prefetch" href="/hancock-doc/assets/js/21.75b09490.js"><link rel="prefetch" href="/hancock-doc/assets/js/22.930dc03f.js"><link rel="prefetch" href="/hancock-doc/assets/js/23.572b4ed3.js"><link rel="prefetch" href="/hancock-doc/assets/js/24.2d6cc0ee.js"><link rel="prefetch" href="/hancock-doc/assets/js/25.dc9054c3.js"><link rel="prefetch" href="/hancock-doc/assets/js/26.67a87c8d.js"><link rel="prefetch" href="/hancock-doc/assets/js/27.938a2397.js"><link rel="prefetch" href="/hancock-doc/assets/js/28.fff62550.js"><link rel="prefetch" href="/hancock-doc/assets/js/29.4d3f946c.js"><link rel="prefetch" href="/hancock-doc/assets/js/3.1aba4a82.js"><link rel="prefetch" href="/hancock-doc/assets/js/30.d0fab01e.js"><link rel="prefetch" href="/hancock-doc/assets/js/5.41b26b68.js"><link rel="prefetch" href="/hancock-doc/assets/js/6.5169a9fe.js"><link rel="prefetch" href="/hancock-doc/assets/js/7.a5e9ce82.js"><link rel="prefetch" href="/hancock-doc/assets/js/9.3b38d00f.js">
    <link rel="stylesheet" href="/hancock-doc/assets/css/0.styles.f72bef6a.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar navbar-vuepress"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/hancock-doc/" class="home-link router-link-active"><img src="/hancock-doc/logo.svg" alt="Hancock" class="logo"> <!----></a> <div class="links"><!----> <nav class="nav-links can-hide"><div class="nav-item"><a href="/hancock-doc/" class="nav-link">Home</a></div><div class="nav-item"><a href="/hancock-doc/guide/" class="nav-link router-link-active">Guide</a></div><div class="nav-item"><a href="https://github.com/BBVA?utf8=%E2%9C%93&amp;q=hancock" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/hancock-doc/" class="nav-link">Home</a></div><div class="nav-item"><a href="/hancock-doc/guide/" class="nav-link router-link-active">Guide</a></div><div class="nav-item"><a href="https://github.com/BBVA?utf8=%E2%9C%93&amp;q=hancock" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><a href="/hancock-doc/guide/" class="sidebar-heading clickable router-link-active"><span>Guide</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/hancock-doc/guide/dlt-adapter/" class="sidebar-heading clickable"><span>DLT Adapter</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/hancock-doc/guide/wallet-hub" class="sidebar-heading clickable"><span>Wallet Hub</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/hancock-doc/guide/dlt-broker/" class="sidebar-heading clickable"><span>DLT Broker</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/hancock-doc/guide/sdk/" class="sidebar-heading clickable router-link-active open"><span>SDK</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/hancock-doc/guide/sdk/workflow/" class="active sidebar-link">Workflow</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/hancock-doc/guide/sdk/workflow/#get-balance" class="sidebar-link">Get balance</a></li><li class="sidebar-sub-header"><a href="/hancock-doc/guide/sdk/workflow/#transaction" class="sidebar-link">Transaction</a></li><li class="sidebar-sub-header"><a href="/hancock-doc/guide/sdk/workflow/#smartcontract" class="sidebar-link">Smartcontract</a></li></ul></li><li><a href="/hancock-doc/guide/sdk/nodejs/" class="sidebar-link">NodeJs</a></li><li><a href="/hancock-doc/guide/sdk/java/" class="sidebar-link">Java/Android</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/hancock-doc/guide/sdk/services/" class="sidebar-heading clickable"><span>Services</span> <span class="arrow right"></span></a> <!----></section></li></ul></section></li></ul> </aside> <main class="page"> <div class="content default"><h1 id="workflow"><a href="#workflow" aria-hidden="true" class="header-anchor">#</a> Workflow</h1> <p>This section describes the main Hancock's workflows, to understand the integration with different Hancock's commponents.</p> <h2 id="get-balance"><a href="#get-balance" aria-hidden="true" class="header-anchor">#</a> Get balance</h2> <p>We can make a petition to Hancock to get the <i>balance</i> of an specific account.</p> <p>Our example start in the client application, calling the get-balance method of <a href="../services/Wallet#get-balance">Wallet service</a>:</p> <div class="language-java extra-class"><pre class="language-java"><code>
  address <span class="token operator">=</span> <span class="token string">'0x34C54CB0d5cD1c0f5240324618adAD15ad6646AF'</span><span class="token punctuation">;</span>

  hancockClient<span class="token punctuation">.</span><span class="token function">getWalletService</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getBalance</span><span class="token punctuation">(</span>address<span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>The activity flow under this interaction is the following:</p> <img alt="Hancock transfer flow" src="/hancock-doc/assets/img/hancock_balance.494cf19a.png" style="display:block;margin:2rem auto;"> <p>We make a call to the DLT network through the DLT-Adapter component, and return the balance of the account.</p> <p>This operation dont need to make modifications on the network, the action does not consume any fees.</p> <h2 id="transaction"><a href="#transaction" aria-hidden="true" class="header-anchor">#</a> Transaction</h2> <p>A blockchain transaction of type <i>&quot;transfer&quot;</i> (that sends some network-native tokens from the sender account to the destination account).</p> <p>The complete example is available in the <a href="/hancock-doc/guide/getting-started/#basic-example">getting-started</a> section.</p> <h2 id="smartcontract"><a href="#smartcontract" aria-hidden="true" class="header-anchor">#</a> Smartcontract</h2> <p>We can invoke any operation of a smart contract deployed on a DLT network.</p> <p>Once we have deployed and registered our contract, we can call the <i>invoke</i> method of <a href="/hancock-doc/guide/sdk/services/SmartContract.html#invoke-a-smart-contract">SmartContract service</a>:</p> <div class="language-java extra-class"><pre class="language-java"><code>
  contractAddressOrAlias <span class="token operator">=</span> <span class="token string">'0xcffffffffffffff000000000000000000000000'</span><span class="token punctuation">;</span>
  method <span class="token operator">=</span> <span class="token string">&quot;attest&quot;</span><span class="token punctuation">;</span>
  params <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;2&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  from <span class="token operator">=</span> <span class="token string">'0x34C54CB0d5cD1c0f5240324618adAD15ad6646AF'</span><span class="token punctuation">;</span>

  hancockClient<span class="token punctuation">.</span><span class="token function">getSmartContractService</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span>contractAddressOrAlias<span class="token punctuation">,</span> method<span class="token punctuation">,</span> params<span class="token punctuation">,</span> from<span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>The write operation on a DLT network consumes fees and we need to wait for it to be mined.</p> <p>First of all we need to subscribe to be able to listen the final response. In the first phase, our invoke is adapted and confirmed with the abi model. This process is taking place in the DLT Adapter microservice.</p> <img alt="Hancock transfer flow" src="/hancock-doc/assets/img/hancock_invoke.4a161668.png" style="display:block;margin:2rem auto;"></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/hancock-doc/guide/dlt-broker/Options/" class="prev">
          Options
        </a></span> <span class="next"><a href="/hancock-doc/guide/sdk/nodejs/">
          NodeJs
        </a>
        →
      </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/hancock-doc/assets/js/app.28931f4a.js" defer></script><script src="/hancock-doc/assets/js/4.b7600f4f.js" defer></script><script src="/hancock-doc/assets/js/2.80b219c5.js" defer></script><script src="/hancock-doc/assets/js/8.63216889.js" defer></script>
  </body>
</html>
