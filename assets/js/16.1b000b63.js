(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{340:function(t,e,a){"use strict";a.r(e);var r=a(37),n=Object(r.a)({},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"hancock-dlt-adapter"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#hancock-dlt-adapter","aria-hidden":"true"}},[t._v("#")]),t._v(" Hancock DLT Adapter")]),t._v(" "),a("p",[t._v("Microservice belonging to Hancock's ecosystem, which adapts transactions described in a common schema to the different blockchain implementations internal schemas.")]),t._v(" "),a("h2",{attrs:{id:"motivation"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#motivation","aria-hidden":"true"}},[t._v("#")]),t._v(" Motivation")]),t._v(" "),a("p",[t._v("Smart Contracts are small programs that serve as interfaces for state changes on a distributed ledger. Currently there is no standard specification for these interfaces, and invocations are done in a very specific and unusable way, e.g. in Ethereum by translating transactions into a binary interface.")]),t._v(" "),a("p",[t._v("Furthermore, in order to exploit the full decentralization provided by blockchain, users should retain control over their wallets and trusted peers, and avoid scenarios where communication with blockchain is centralized on a gateway service that controls user private keys and trusted peers.")]),t._v(" "),a("h2",{attrs:{id:"proposed-change"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#proposed-change","aria-hidden":"true"}},[t._v("#")]),t._v(" Proposed Change")]),t._v(" "),a("p",[t._v("DLT Adapter aims to provide a high-level interface to operations that can be performed on DLT Networks.")]),t._v(" "),a("p",[t._v("DLT Adapter is a web service that abstracts the user from interactions with DLT networks on a high-level common HTTP REST interface, that conveniently provides the user with the specific DLT type adapted transaction, and that can be easily inspected, signed and personally sent to a DLT network trusted node of the choice of the user.")]),t._v(" "),a("p",[t._v("There are 4 identified high-level interactions with a blockchain:")]),t._v(" "),a("ul",[a("li",[t._v("Smart Contract creation")]),t._v(" "),a("li",[t._v("Smart Contract transactions")]),t._v(" "),a("li",[t._v("Token transfers")]),t._v(" "),a("li",[t._v("Notarizations")])]),t._v(" "),a("p",[t._v("One must remember to include the chain identifier in the adapted transaction, which must be executed just in the appropriate network.")]),t._v(" "),a("h2",{attrs:{id:"current-blockchains-supported"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#current-blockchains-supported","aria-hidden":"true"}},[t._v("#")]),t._v(" Current blockchains supported")]),t._v(" "),a("ul",[a("li",[t._v("Ethereum")])]),t._v(" "),a("h2",{attrs:{id:"building-the-service"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#building-the-service","aria-hidden":"true"}},[t._v("#")]),t._v(" Building the service")]),t._v(" "),a("p",[t._v("Clone the project:")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Clone the project ")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" clone https://github.com/BBVA/hancock-dlt-adapter.git\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("cd")]),t._v(" kst-hancock-ms-dlt-adapter\n")])])]),a("p",[t._v("With node and npm or yarn:")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# With npm")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" run build:ts\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" run serve:prod\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# With yarn")]),t._v("\n  yarn "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v("\n  yarn run build:ts\n  yarn run serve:prod\n")])])]),a("p",[t._v("With docker:")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Build the docker image")]),t._v("\n  docker build -t hancock_dlt_adapter "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v(".")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Run the docker container")]),t._v("\n  docker run -d -it --name -p 80:80 hancock_dlt_adapter_container hancock_dlt_adapter\n")])])]),a("h2",{attrs:{id:"setting-up-the-service"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#setting-up-the-service","aria-hidden":"true"}},[t._v("#")]),t._v(" Setting up the service")]),t._v(" "),a("p",[t._v("Once we have built the service, we need to configure a few things before launching it. You can find all environment variables available to configure the service in config/custom-environment-variables.yaml.")]),t._v(" "),a("p",[t._v("An example of configuration of the most important variables:")]),t._v(" "),a("pre",[a("code",[t._v("Ethereum rpc node:\n")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("export")]),t._v(" HANCOCK_BLOCKCHAIN_ETHEREUM_PROTOCOL"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("export")]),t._v(" HANCOCK_BLOCKCHAIN_ETHEREUM_HOST"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"52.80.128.77"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("export")]),t._v(" HANCOCK_BLOCKCHAIN_ETHEREUM_PORT"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"34774"')]),t._v("\n")])])]),a("pre",[a("code",[t._v("Mongo ddbb host:\n")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("export")]),t._v(" HANCOCK_DB_HOSTS"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"localhost:27017"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("export")]),t._v(" HANCOCK_DB_DATABASE"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"hancock"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("export")]),t._v(" HANCOCK_DB_ETHEREUM_DATABASE"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"hancock_eth"')]),t._v("\n")])])]),a("h2",{attrs:{id:"using-the-service"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#using-the-service","aria-hidden":"true"}},[t._v("#")]),t._v(" Using the service")]),t._v(" "),a("p",[t._v("Next sections describe the operations available on Hancock DLT Adapter.")]),t._v(" "),a("h3",{attrs:{id:"common-operations"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#common-operations","aria-hidden":"true"}},[t._v("#")]),t._v(" Common operations")]),t._v(" "),a("p",[t._v("Allow operations like "),a("i",[t._v("get balance")]),t._v(", and "),a("i",[t._v("adapt transfer")]),t._v(".")]),t._v(" "),a("p",[t._v("For more info, go to "),a("a",{attrs:{href:"./Operations/Common/"}},[t._v("Common operations")]),t._v(" over blockchain network.")]),t._v(" "),a("h3",{attrs:{id:"smartcontracts-operations"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#smartcontracts-operations","aria-hidden":"true"}},[t._v("#")]),t._v(" Smartcontracts operations")]),t._v(" "),a("p",[t._v("Offer different operations to manage smart contracts:")]),t._v(" "),a("ul",[a("li",[t._v("Deploy (Useful for deploying new contracts with the same interface)")]),t._v(" "),a("li",[t._v("Call/Query (read operations)")]),t._v(" "),a("li",[t._v("Invoke/Apply (write operations)")])]),t._v(" "),a("p",[t._v("It holds a registry for human-friendly smart contract management/interaction.")]),t._v(" "),a("p",[t._v("For more info, go to "),a("a",{attrs:{href:"./Operations/SmartContract/"}},[t._v("SmartContract operations")]),t._v(" over blockchain network.")]),t._v(" "),a("h3",{attrs:{id:"token-operations"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#token-operations","aria-hidden":"true"}},[t._v("#")]),t._v(" Token operations")]),t._v(" "),a("p",[t._v("Facilitate a simple interface to work with a special case of Ethereum smartcontracts, with common ERC20 interface.")]),t._v(" "),a("p",[t._v("For more info, go to "),a("a",{attrs:{href:"./Operations/Token/"}},[t._v("Token operations")]),t._v(" over Ethereum network.")]),t._v(" "),a("h3",{attrs:{id:"hancock-protocol"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#hancock-protocol","aria-hidden":"true"}},[t._v("#")]),t._v(" Hancock protocol")]),t._v(" "),a("p",[t._v("Use Hancock protocol to encode and decode operations and work with data on QR code.")]),t._v(" "),a("p",[t._v("For more info, go to "),a("a",{attrs:{href:"./Operations/Protocol/"}},[t._v("Protocol operations")]),t._v(".")]),t._v(" "),a("h2",{attrs:{id:"api-documentation"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#api-documentation","aria-hidden":"true"}},[t._v("#")]),t._v(" API documentation")]),t._v(" "),a("p",[t._v("DLT Adapter provides some endpoints to interact with the blockchain, allowing to read and to adapt different operations on DLT network. Take a look at the different sections of the API documentation to see examples of use:")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://bbva.github.io/hancock-dlt-adapter/api.html"}},[t._v("API Documentation")])]),t._v(" "),a("h2",{attrs:{id:"contribution-guidelines"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#contribution-guidelines","aria-hidden":"true"}},[t._v("#")]),t._v(" Contribution guidelines")]),t._v(" "),a("p",[t._v("If you are thinking about contributing to the project, you should know that:")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("The code has been written following the "),a("a",{attrs:{href:"https://8thlight.com/blog/uncle-bob/2012/08/13/the-clean-architecture.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("clean architecture principles"),a("OutboundLink")],1),t._v(", as well as "),a("a",{attrs:{href:"https://es.wikipedia.org/wiki/SOLID",target:"_blank",rel:"noopener noreferrer"}},[t._v("SOLID design principles"),a("OutboundLink")],1),t._v(".")])]),t._v(" "),a("li",[a("p",[t._v("The project is built in "),a("a",{attrs:{href:"https://www.typescriptlang.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("typescript"),a("OutboundLink")],1),t._v(" v2.9.2 using the "),a("a",{attrs:{href:"https://github.com/palantir/tslint/blob/master/src/configs/recommended.ts",target:"_blank",rel:"noopener noreferrer"}},[t._v("recommended guidelines"),a("OutboundLink")],1),t._v(". Also there is a linter rules configured to follow these guidelines, so you can search for a plugin for your favourite IDE to be warned about these linter errors.")])])])])},[],!1,null,null,null);e.default=n.exports}}]);