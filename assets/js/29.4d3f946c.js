(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{339:function(t,e,a){"use strict";a.r(e);var s=a(37),n=Object(s.a)({},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"hancock-wallet-hub"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#hancock-wallet-hub","aria-hidden":"true"}},[t._v("#")]),t._v(" Hancock Wallet hub")]),t._v(" "),a("p",[t._v("This microservice belonging to Hancock's ecosystem, allows you to send transactions to a DLT and to sign the transactions with the help of a sign provider service previously configured.")]),t._v(" "),a("h2",{attrs:{id:"motivation"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#motivation","aria-hidden":"true"}},[t._v("#")]),t._v(" Motivation")]),t._v(" "),a("p",[t._v("To be able to sign transactions in blockchain we need a private key. To avoid centralizing the user's private key we need to support differents signature providers.")]),t._v(" "),a("h2",{attrs:{id:"proposed-change"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#proposed-change","aria-hidden":"true"}},[t._v("#")]),t._v(" Proposed Change")]),t._v(" "),a("p",[t._v("In order to have different signature providers, we need to add a service to the system that will allow suppliers to be registered, making it possible for the system to be able to consume them, thus allowing a user to choose their signature provider. The signing keys will not leave those signature providers.")]),t._v(" "),a("h2",{attrs:{id:"current-blockchains-supported"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#current-blockchains-supported","aria-hidden":"true"}},[t._v("#")]),t._v(" Current blockchains supported")]),t._v(" "),a("ul",[a("li",[t._v("Ethereum")])]),t._v(" "),a("h2",{attrs:{id:"using-this-package"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#using-this-package","aria-hidden":"true"}},[t._v("#")]),t._v(" Using this package")]),t._v(" "),a("p",[t._v("Clone the project:")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Clone the project  ")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" clone https://github.com/BBVA/hancock-wallet-hub.git\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("cd")]),t._v(" kst-hancock-ms-dlt-adapter \n")])])]),a("p",[t._v("Installation")]),t._v(" "),a("p",[t._v("Once you have downloaded:")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# with npm")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" \n  nnpm run build:ts \n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" run serve:prod \n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# or using yarn")]),t._v("\n  yarn "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v("\n  yarn run build:ts   \n  yarn run serve:prod \n")])])]),a("p",[t._v("With docker:")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Build the docker image ")]),t._v("\n  docker build -t hancock_wallet_hub "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v(".")]),t._v(" \n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Run the docker container ")]),t._v("\n  docker run -d -it --name -p 80:80 hancock_wallet_hub_container hancock_wallet_hub \n")])])]),a("h2",{attrs:{id:"setting-up-the-service"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#setting-up-the-service","aria-hidden":"true"}},[t._v("#")]),t._v(" Setting up the service")]),t._v(" "),a("p",[t._v("Once the installation of the service has finished, we need to fix some environment vars. You can find all environment vars\navailable to configure the service in config/custom-environment-variables.yaml.")]),t._v(" "),a("p",[t._v("An example of configuration of the most important vars:")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("    Ethereum rpc node:\n\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("export")]),t._v(" HANCOCK_BLOCKCHAIN_ETHEREUM_PROTOCOL"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http"')]),t._v("  \n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("export")]),t._v(" HANCOCK_BLOCKCHAIN_ETHEREUM_HOST"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"52.80.128.77"')]),t._v("  \n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("export")]),t._v(" HANCOCK_BLOCKCHAIN_ETHEREUM_PORT"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"34774"')]),t._v("  \n\n    Mongo ddbb host:\n\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("export")]),t._v(" HANCOCK_DB_HOSTS"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"localhost:27017"')]),t._v("  \n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("export")]),t._v(" HANCOCK_DB_DATABASE"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"hancock"')]),t._v("  \n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("export")]),t._v(" HANCOCK_DB_ETHEREUM_DATABASE"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"hancock_eth"')]),t._v("  \n")])])]),a("p",[t._v("Select a signature provider")]),t._v(" "),a("p",[t._v('Before signing our transactions, we need to insert a new row in mongodb, into "providers" collection with the data of our signer.')]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"alias"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"fakeprovider"')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"className"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"FakeProviderSigner"')]),t._v("\n")])])]),a("h2",{attrs:{id:"using-the-service"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#using-the-service","aria-hidden":"true"}},[t._v("#")]),t._v(" Using the service")]),t._v(" "),a("p",[t._v("For more info, go to "),a("a",{attrs:{href:"./Operations/"}},[t._v("operations")]),t._v(" facilitated by Wallet Hub component.")]),t._v(" "),a("h2",{attrs:{id:"api-documentation"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#api-documentation","aria-hidden":"true"}},[t._v("#")]),t._v(" API documentation")]),t._v(" "),a("p",[t._v("Wallet-HUB provides some endpoints to interact with the blockchain, allowing sending and signing transactions with an external signer to a specific DLT. Take a look at the diferent sections of the API documentation to see examples of use.")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://bbva.github.io/hancock-wallet-hub/api.html"}},[t._v("API Documentation")])]),t._v(" "),a("h2",{attrs:{id:"contribution-guidelines"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#contribution-guidelines","aria-hidden":"true"}},[t._v("#")]),t._v(" Contribution guidelines")]),t._v(" "),a("p",[t._v("If you are thinking about contributing to the project, you should know that:")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("The code has been written following the "),a("a",{attrs:{href:"https://8thlight.com/blog/uncle-bob/2012/08/13/the-clean-architecture.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("clean architecture principles"),a("OutboundLink")],1),t._v(", as well as "),a("a",{attrs:{href:"https://es.wikipedia.org/wiki/SOLID",target:"_blank",rel:"noopener noreferrer"}},[t._v("SOLID design principles"),a("OutboundLink")],1),t._v(".")])]),t._v(" "),a("li",[a("p",[t._v("The project is built in "),a("a",{attrs:{href:"https://www.typescriptlang.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("typescript"),a("OutboundLink")],1),t._v(" v2.9.2 using the "),a("a",{attrs:{href:"https://github.com/palantir/tslint/blob/master/src/configs/recommended.ts",target:"_blank",rel:"noopener noreferrer"}},[t._v("recommended guidelines"),a("OutboundLink")],1),t._v(". Also there is a linter rules configured to follow this guidelines, so you can search for a plugin for your favourite IDE to be warned about this linter errors.")])])])])},[],!1,null,null,null);e.default=n.exports}}]);